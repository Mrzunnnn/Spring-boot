<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title th:text="${movie.name}">Bootstrap demo</title>
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
            crossorigin="anonymous"
    />
    <link rel="stylesheet" th:href="@{web-assets/css/style.css}"/>
</head>
<body>
<header>
    <nav class="navbar navbar-expand-lg bg-black">
        <div class="container">
            <a class="navbar-brand" href="#"
            ><img
                    class="logo"
                    src="https://png.pngtree.com/template/20190613/ourmid/pngtree-logo-with-movie-camera-and-tripod-you-can-use-for-logo-image_211693.jpg"
                    alt=""
            /></a>
            <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarNavAltMarkup"
                    aria-controls="navbarNavAltMarkup"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav">
                    <a href="/home" class="nav-link text-white">Trang Chủ</a>
                    <a href="/phim-le" class="nav-link text-white">Phim lẻ</a>
                    <a href="/phim-bo" class="nav-link text-white">Phim bộ</a>
                    <a href="/phim-chieu-rap" class="nav-link text-white">Phim chiếu rạp</a>
                    <a class="nav-link text-white">Quốc gia </a>
                    <a class="nav-link text-white">Thể loại</a>
                </div>
            </div>
        </div>
    </nav>
</header>
<section class="py-4">
    <div class="container">
        <div class="row">
            <div class="col-3">
                <div class="movie-poster rounded overflow-hidden">
                    <img
                            th:src="${movie.poster}"
                            th:alt="${movie.name}"
                    />
                </div>
            </div>
            <div class="col-9">
                <h4 class="mb-2" th:text="${movie.name}"></h4>
                <div class=".bg-dark-subtle p-4">
                    <p class="mb-2">Thể loại :
                        <span th:each="genre, iterStat : ${movie.genres}">
                            <span th:text="${genre.genre}"></span>
                            <span th:if="${!iterStat.last}">, </span>
                        </span>
                    </p>
                    <p class="mb-2">Năm sản xuất :
                        <th:block th:text="${movie.releaseYear}"></th:block>
                    </p>
                    <p class="mb-2">Quốc gia :
                        <th:block th:text="${movie.country.name}"></th:block>
                    </p>
                    <p class="mb-2">Đạo Diễn :
                        <span th:each="director, iterStat : ${movie.directors}">
                            <span th:text="${director.name}"></span>
                            <span th:if="${!iterStat.last}">, </span>
                        </span>
                    </p>
                    <p class="mb-2">Diễn Viên :
                        <span th:each="actor, iterStat : ${movie.actors}">
                            <span th:text="${actor.name}"></span>
                            <span th:if="${!iterStat.last}">, </span>
                        </span>
                    </p>
                    <p class="mb-2">Mô Tả :
                        <th:block th:text="${movie.description}"></th:block>
                    </p>
                    <a class="btn btn-danger px-5">Xem phim</a>
                    <button class="btn btn-dark px-5">Thêm vào yêu thích</button>
                </div>
            </div>
        </div>
        <div class="row" th:if="${movie.type.toString()=='PHIM_BO'}">
            <h3 class="text-uppercase mt-4 mb-3">Danh sách tập phim</h3>
        </div>
        <div class="episodeList">
        <div class="episodeItem" th:each="episode,iterStat:${episodes}">
            <a th:href="@{/xem-phim/{id}/{slug}?tap={episode} (id=${movie.id}, slug=${movie.slug},episode=${episode})}"
               th:text="'Tập ' + ${iterStat.index + 1}" class="btn btn-dark"></a>
        </div>
        </div>
    </div>
</section>
<section class="py-4 bg-body-tertiary">
    <div class="container">
        <h2 class="text-uppercase">Phim đề xuất</h2>

        <div class="row">
            <div class="col-2" th:each="movie : ${relatedMovies}">
                <a th:href="@{/phim/{id}/{slug} (id=${movie.id}, slug=${movie.slug})}"
                   class="text-decoration-none text-dark">
                    <div class="movie-item">
                        <div class="movie-poster rounded overflow-hidden">
                            <img th:src="${movie.poster}" th:alt="${movie.name}">
                        </div>
                        <p class="mt-2" th:text="${movie.name}"></p>
                    </div>
                </a>
            </div>
        </div>
    </div>
</section>
<section class="py-4">
    <div class="container">
        <h3 class="text-uppercase mb-3">Bình Luận</h3>
        <div class="review-list" th:each="review : ${reviews}">
            <div class="review-item d-flex mb-3 ">
                <div class="review-avatar">
                    <img  th:src="${review.user.avatar}" alt=""/>
                </div>
                <div class="review-info ps-3">
                    <p class="mb-0">
                        <span class="fw-bold" th:text="${review.user.name}"></span>
                        <span class="fst-italic text-muted" th:text="${review.createdAt}"></span>
                    </p>
                    <p class="mb-0"><th:block th:text="${review.rating}"></th:block> <span class="text-warning">⭐</span></p>
                    <p class="mb-0" th:text="${review.content}">
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>
<footer class="navbar navbar-expand-lg bg-black">
    <div class="container">
        <div class="row">
            <div class="col-3">
                <div>
                    <img
                            src="https://png.pngtree.com/template/20190613/ourmid/pngtree-logo-with-movie-camera-and-tripod-you-can-use-for-logo-image_211693.jpg"
                            alt=""
                    />
                </div>
                <p class="text-white mt-2">
                    Là phim bluray (reencoded), có độ phân giải thấp nhất là Full HD
                    (1080p), trong khi hầu hết các trang phim khác chỉ có tới độ phân
                    giải HD (720p) là cao nhất Chất lượng cao, lượng dữ liệu trên giây
                    (bitrate) gấp từ 5 - 10 lần phim online thông thường - đây là yếu
                    tố quyết định độ nét của phim (thậm chí còn quan trọng hơn độ phân
                    giải) Âm thanh 5.1 (6 channel) thay vì stereo (2 channel) như các
                    trang phim khác (kể cả Youtube)
                </p>
            </div>
            <div class="col">
                <div class="text-white">
                    <h5 class="text-uppercase">Danh mục phim</h5>
                    <p class="mb-2">Phim bộ</p>
                    <p class="mb-2">Phim lẻ</p>
                    <p class="mb-2">Phim chiếu rạp</p>
                </div>
            </div>
            <div class="col">
                <div class="text-white">
                    <h5 class="text-uppercase">Danh mục phim</h5>
                    <p class="mb-2">Phim bộ</p>
                    <p class="mb-2">Phim lẻ</p>
                    <p class="mb-2">Phim chiếu rạp</p>
                </div>
            </div>
            <div class="col">
                <div class="text-white">
                    <h5 class="text-uppercase">Danh mục phim</h5>
                    <p class="mb-2">Phim bộ</p>
                    <p class="mb-2">Phim lẻ</p>
                    <p class="mb-2">Phim chiếu rạp</p>
                </div>
            </div>
        </div>
    </div>
</footer>
<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"
></script>
</body>
</html>
